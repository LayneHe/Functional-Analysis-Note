#! https://zhuanlan.zhihu.com/p/331823781
# [泛函分析手记] 1.2 线性空间，Hamel基
上一节，我们讨论了选择公理，良序定理等等。那些定理我们可以视作是“地基”一般，很重要，但我们一般是不会直接用到。

接下来，我们在整个第一章要进行的一系列讨论，则可以视作“基础”。这些内容未必会直接构成问题，但它们无处不在，润物无声。

具体一些，本节要讨论的是**线性空间和 $\mathrm{Hamel}$ 基**，我想本专栏的读者都应该相当熟悉，它们基本上是线性代数中概念的平移以及向无限维的若干推广（也大多符合直觉）。基本的定义，我们尽量简洁的叙述一遍。

请读者在阅读本文前想一想 **线性无关**，**基**，**维度** 这些概念是否清晰，如果很清晰，那么只需要看一下本节**定义 2.7**和之后的内容，会用到 1.1节的 $\mathrm{Zorn}$ 引理，算是一些新事物。如果觉得有些模糊，那么还是从头开始跟随本文过一遍基本知识。

> **定义 2.1** 线性空间定义
> 设：$X$ 是非空集合， $K$ 是数域（实或复）。在 $X$ 定义**加法**和**数乘**运算。对 $x,y\in X\;\alpha,\beta\in K$ 满足公设：
> - $x+y=y+x$
> - $x+(y+z)=(x+y)+z$
> - $X$ 中存在唯一的 $\theta$，对每个 $x\in X,x+\theta=x,\;\theta$ 称 $X$ 中的**零元**。
> - 对 $X$ 中每个元素 $x$ 存在唯一的元素 $-x$，使得 $x+(-x)=\theta$
> - $\alpha(x+y)=\alpha x+\alpha y$
> - $(\alpha+\beta)x=\alpha x+\beta y$
> - $\alpha(\beta x)=(\alpha\beta)x$
> - $1x=x$
> 我们称 $X$ 按上述加法和数乘称为实或复**线性空间**，空间中元素称**向量**或**点**。

这里可以用一个例子来展示实线性空间和复线性空间的区别与联系。
> **课后作业 22 题** 设 $\tilde{X}$ 是 $n$ 维复线性空间，$\{e_1,\cdots,e_n\}$ 是 $\tilde{X}$ 的一组基。那么当 $\tilde{X}$ 视作实线性空间 $X$ 时，$X$ 的维数是多少？并且写出 $X$ 的一组基。

虽然本节要在下文才给出基的定义，但是本专栏读者对基的定义应该熟悉，所以此处直接用了。

我们从线性空间的定义就能发现，实或者复仅由数域 $K$ 来决定。那么二者是可以互相转换的。复线性空间的数域 $\tilde{K}$中一个元素 $a+\mathrm{i}b$ 可以看作实线性空间数域 $K$ 中元素 $a$ 和 $b$ 的线性组合，只需要空间 $X$ 的基相对于 $\tilde{X}$ 对应的增加元素 $\mathrm{i}e_n$ 即可。
$$(a+\mathrm{i}b)e_n=a\cdot e_n+b\cdot\mathrm{i} e_n\\$$
这里 $e_n$ 与 $\mathrm{i} e_n$ 显然是线性无关的。

那么答案就呼之欲出了：$X$ 维数 $2n$；一组基是 $\{e_1,\mathrm{i}e_i,\cdots,e_n,\mathrm{i}e_n\}$

不特别指明的情况下，线性空间既可以是实的也可以是复的，任何复线性空间必然也是实线性空间。

线性空间其他的一些性质 我们写出来：
- $\mathbf{0}x=\theta$
- $(-1)x=-x$
- $\alpha\theta=\theta$

我们将 $x-y$ 记作 $x+(-y)$ 消去率如下成立：
- $x+y=x+z\Rightarrow y=z$
- $\alpha x=\alpha y,\;\alpha\not=0\Rightarrow x=y$
- $\alpha x=\beta x,\;x\not=\theta\Rightarrow \alpha=\beta$

这些性质统统不做证明了，我们实在是应该已经过了那个阶段了。我对读者们有这个信心！

> **定义 1.2** 线性空间 $X$ 的一个非空子集 $M$，如果对任意的 $x,y\in M$ 与数 $\alpha$，都有 $x+y,\alpha x\in M$ 那么 $M$ 是 $X$ 中的线性流形。

这个定义说的就是一个满足对加法和数乘封闭的线性空间的子集。对应着代数中的线性子空间。实际上，泛函中或者特别这本教材中**线性子空间**是指**闭的线性流形**。后面我们会遇到要证明线性流形的闭包就是自身，从而证明了线性子空间的情况。这种记号上的不同，习惯就好。

下面继续给出一些基本的概念。

> **线性组合** 设 $x_1,x_2,\cdots,x_n$ 是线性空间 $X$ 中的 $n$ 个元素，$\alpha_1,\cdots,\alpha_n$ 是 $n$ 个数，形如 $\alpha_1x_1+\cdots+\alpha_nx_n$ 的元素称为 $x_1,x_2,\cdots,x_n$ 的**线性组合**。

$\mathrm{span}$ “扩张”的定义，如下

> 设 $S$ 是线性空间 $X$ 的任意非空子集，考虑 $S$ 中元素的所有线性组合形成的集合 $M$。$M$ 至少是 $X$ 的线性流形，对加法、数乘封闭，我们称 $M$ 是 $S$ 张成的线性流形，记作 $M=\mathrm{span}\{S\}$

接着，是 **线性相关**与**线形无关**
> **定义 2.3** $X$ 中有限的向量集合 $\{x_1,\cdots,x_n\}$，如果存在不全为零的数 $\alpha_1,\cdots,\alpha_n$ 使 $\alpha_1x_1+\cdots+\alpha_nx_n=\theta$ 那么我们称这个集合是**线性相关**的，否则，称其为**线性无关**。线性无关集合中 $\alpha_1x_1+\cdots+\alpha_nx_n=\theta$ 蕴含 $x_1=\cdots=x_n=0$
> 
> 推广到无限维。无穷的向量集合 $S$ 线性无关 $\iff S$ 中每个有限子集线性无关。否则 $S$ 线性相关。

下面给出无限维的定义，因为无限维并不容易定义，所以我们先定义有限维，然后不是有限维的就是无限维。

> **定义 2.4** 设 $X$ 是线性空间，如果存在正整数 $n$，使得 $X$ 包括由 $n$ 个向量组成的线性无关集，并且 $X$ 中所有包含 $n+1$ 个向量的集合都是线性相关的。$X$ 称**有限维**的，$n$ 是 $X$ 的**维数**，记作 $\mathrm{dim}X=n$
>
>只有零向量的线性空间是有限维的，特别称作零维的。$X$ 不是有限维的，就称为**无限维**的，记作 $\mathrm{dim}X=\infty$

我们总是先考虑有限维，然后推广到无限维上。

上面的例题里已经提到**基**了，下面我们正式地叙述一遍它的定义。
> **定义 2.5** 如果线性空间 $X$ 的有限子集 $S$ 线性无关且 $X=\mathrm{span}\{S\}$。那么 $S$ 是 $X$ 的 **基**。

线性空间 $X$ 是 $n$ 维的，当且仅当 $X$ 有一个由 $n$ 个元素组成的**基**。 $n$ 维线性空间每个基都含有 $n$ 个元素。

> **定义 2.6** **线性空间的直和** 设 $X$ 是线性空间，给定 $X$ 的两个线性流形 $M,N$。$M+N$ 表示所有形如 $m+n,m\in M,n\in N$的元素集合，我们称之为 $M$ 与 $N$ 的**和**。如果 $M\bigcap N=\{\theta\}$ （ $\theta$ 代表零元，我们在前面定义过了。）也就是说 $\theta$ 是 $M,N$ 唯一的公共元，那我们用 $M\bigoplus N$ 来代替 $M+N$，并且称之为 **$M,N$ 的直接和**。
>
>如果有 $X=M\bigoplus N$ 那么 $M,N$ 称作是**代数互补**的线性流形。$N$ 是 $M$ 在 $X$ 中的**代数补**。

这就是线性代数中的直和概念的直接推广。注意我们这里的对象和条件。日后我们还会学习与之相似，条件更强但性质也更好的**正交补**，**拓扑互补**。

> **定理 2.1** 设 $M,N$ 是线性空间 $X$ 的线性流形，则 $X=M\bigoplus N$ 当且仅当对每个 $x\in X$ 有唯一的表达式
> $$x=m+n,\quad m\in M,n\in N\\$$

1. 必要性 $\Rightarrow$ 只需要证明分解是唯一的即可。这里不做具体展开。

2. 充分性 $\Leftarrow$ $x\in X$ 有唯一表达式，可以直接得到 $X=M+N$ 
   
   我们要证明的就是 $M\bigcap N=\{\theta\}$ 。只对这一部分略作解释。

   我们设任意的 $x\in M\bigcap N\;x$ 可以表示成
   $$x=\underset{x\in M}{\underline{x}}+\underset{\theta\in N}{\underline{\theta}}\quad x=\underset{\theta\in M}{\underline{\theta}}+\underset{x\in N}{\underline{x}}\\$$
   我们要证充分性又知道 $x$ 的表达式是唯一的。$x$ 只能就是 $\theta$.

> **定理 2.2** 如果 $X=M\bigoplus N$ 则
> $$\dim X=\dim M+\dim N\\$$

这个定理没什么好说的，如果是 $M，N$ 中任意一个是无限维的，那么 $X$ 也是无限维的，定理自然成立。

如果 $M，N$ 都是有限维的。我们设 $\{m_1,\cdots,m_j\}$ 是 $M$ 的基；$\{n_1,\cdots,n_k\}$ 是 $N$ 的基。只需 $\{m_1,\cdots,m_j,n_1,\cdots,n_k\}$ 线性无关。后面就顺理成章了。

为了回答“给定线性空间 $X$ 一个线性流形 $M$，是否一定存在 $M$ 在 $X$ 中的代数补？” 这个问题，我们引入 $\mathrm{Hamel}$ 基。

> **定义 2.7** 设 $X$ 是具有非零元的线性空间，如果 $X$ 的子集 $H$ 满足
> - $H$ 线性无关
> - $X=\mathrm{span} \{H\}$
>
>那么 $H$ 称 $X$ 的 $\mathrm{Hamel}$ 基。

我们可以暂时单纯地把 $\mathrm{Hamel}$ 基理解为有限维线性空间的基向无限维的推广，实际上 $\mathrm{Hamel}$ 基更多的不同之处，我们要后面学习了 $\mathrm{Baire}$ 定理才看的比较清楚。

和有限维线性空间的基不同，$\mathrm{Hamel}$ 基的存在性并不显然，需要我们用 [1.1 节学到的 Zorn 引理](https://zhuanlan.zhihu.com/p/278675189) 来证明。

> **定理 2.3** 设 $X$ 是线性空间， $S$ 是 $X$ 中任意的线性无关子集，则存在 $X$ 的一个 $\mathrm{Hamel}$ 基 $H$，使 $S\subset H$.

这个定理的**证明路线**是 找到包含 $S$ 的部分有序集 $\to$ 定义完全有序集上界 $\to$ $\mathrm{Zorn}$ 引理证明极大元存在 $\to$ 极大元就是我们要找的 $\mathrm{Hamel}$ 基。把握住这条主线，就很清晰了。

**证明**：设 $\mathscr{S}$ 是 $X$ 中所有包含 $S$ 的线性无关子集组成的集合族。我们按**集合的包含关系**定义**序关系**，那么 $\mathscr{S}$ 是部分有序集。（若 $M，N\in \mathscr{S}$，且 $M\subset N$，则有 $M\prec N$）

$\mathscr{S}$ 显然非空，因为至少 $S\in \mathscr{S}$. 我们在 $\mathscr{S}$ 中定义完全有序子集 $\mathscr{S}_0\subset \mathscr{S}$ 注意，$\mathscr{S}_0$ 是一个集合族，其中的元素是包含 $S$ 的线性无关集合。$\mathscr{S}_0$ 中所有元素的并满足包含 $S$ 且线性无关，所以在 $\mathscr{S}$ 中，是 $\mathscr{S}_0$ 的一个上界。由 $\mathrm{Zorn}$ 引理，$\mathscr{S}$ 中有极大元，记作 $H$，满足 $S\subset H$. $H$ 线性无关。

我们思考一下，$H$ 现在能不能作为 $X$ 的 $\mathrm{Hamel}$ 基？还不能，我们只知道它是一个足够大的线性无关子集。我们需要证明 $H$ 张成的线性流形是 $X$. 这里我们反证法证明。

如果 $H$ 张成的线性流形不是 $X$ 那么存在 $x\in X$ 并且 $x\not \in \mathrm{span}\{H\}$. 我们考虑 $\{x\}\bigcup H$，它包含 $S$ 并且线性无关，所以是 $\mathscr{S}$ 中元素，与 $H$ 是 $\mathscr{S}$ 的极大元矛盾。

所以 $X=\mathrm{span}\{H\}$. $H$ 是 $X$ 的 $\mathrm{Hamel}$ 基。任何非零线性空间都必有一个 $\mathrm{Hamel}$ 基。

> **定理 2.4** 设 $M$ 是线性空间 $X$ 的线性流形，那么必存在 $X$ 的线性流形 $N$，使得 $X=M\bigoplus N$. 即 $N$ 是 $M$ 的**代数补**。

证明此定理我们只需证明 $M\bigcap N=\theta$ 即可。

**证明**：由**定理 2.3**  $X,M$ 分别有 $\mathrm{Hamel}$ 基 $H,H_1$.且 $H_1\subset H$ 我们定义 $N=\mathrm{span}\{H\backslash H_1\}$

对任意的 $x\in X$ 可以表示成 $H$ 中元素的线性组合。那么自然的，也可以表成 $H_1$ 中元素线性组合与 $H\backslash H_1$ 中元素线性组合**之和**。所以 $X=M+N$ 成立是很显然的。

下证 $M\bigcap N=\theta$.

设 $x\in M\bigcap N$，那么存在 $\{m_1,\cdots,m_j\}\in H_1,\;\{n_1,\cdots,n_k\}\in H\backslash H_1$ 以及系数使得
$$x=\alpha_1 m_1+\cdots+\alpha_j m_j=\beta_1 n_1+\cdots+\beta_k n_k\\$$
从而有
$$x=\alpha_1 m_1+\cdots+\alpha_j m_j+(-1)\beta_1 n_1+\cdots+(-1)\beta_k n_k=\theta\\$$
因为 $H$ 线性无关，所以上式的系数都是 $0$ 即 $x=\theta,\quad M\bigcap N=\theta\quad\square$ 

在后文中为了方便，线性空间的零元也记作 $0$.需要读者根据上下文自行判断是数字 $0$ 还是空间的零元 $\theta$.

> 本文采用 [知识共享 署名-非商业性使用-相同方式共享 4.0 国际许可协议](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-Hans) 进行许可

<div align=center>
<img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg" />
</div>